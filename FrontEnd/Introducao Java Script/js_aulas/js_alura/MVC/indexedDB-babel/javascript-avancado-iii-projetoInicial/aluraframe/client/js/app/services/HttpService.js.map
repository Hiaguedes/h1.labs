{"version":3,"sources":["../../app-es6/services/HttpService.js"],"names":["HttpService","res","ok","Error","statusText","url","fetch","then","_handleError","json","dado","Promise","resolve","reject","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","status","JSON","parse","responseText","send","stringify"],"mappings":";;;;;;IAAMA,W;;;;;;;qCAGWC,G,EAAI;AACb,gBAAG,CAACA,IAAIC,EAAR,EAAY,MAAM,IAAIC,KAAJ,CAAUF,IAAIG,UAAd,CAAN;;AAEZ,mBAAOH,GAAP;AACH;;;4BACGI,G,EAAK;AAAA;;AAEL,mBAAOC,MAAMD,GAAN,EACEE,IADF,CACO;AAAA,uBAAO,MAAKC,YAAL,CAAkBP,GAAlB,CAAP;AAAA,aADP,EAEEM,IAFF,CAEO;AAAA,uBACGN,IAAIQ,IAAJ,EADH;AAAA,aAFP,CAAP;AAKH;;;6BAEIJ,G,EAAKK,I,EAAM;;AAGR,mBAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;;AAEpC,oBAAIC,MAAM,IAAIC,cAAJ,EAAV;AACAD,oBAAIE,IAAJ,CAAS,MAAT,EAAiBX,GAAjB,EAAsB,IAAtB;AACAS,oBAAIG,gBAAJ,CAAqB,cAArB,EAAqC,kBAArC;AACAH,oBAAII,kBAAJ,GAAyB,YAAM;;AAE3B,wBAAIJ,IAAIK,UAAJ,IAAkB,CAAtB,EAAyB;;AAErB,4BAAIL,IAAIM,MAAJ,IAAc,GAAlB,EAAuB;;AAEnBR,oCAAQS,KAAKC,KAAL,CAAWR,IAAIS,YAAf,CAAR;AACH,yBAHD,MAGO;;AAEHV,mCAAOC,IAAIS,YAAX;AACH;AACJ;AACJ,iBAZD;AAaAT,oBAAIU,IAAJ,CAASH,KAAKI,SAAL,CAAef,IAAf,CAAT,EAlBoC,CAkBJ;AACnC,aAnBM,CAAP;AAqBH","file":"HttpService.js","sourcesContent":["class HttpService {\n    \n\n    _handleError(res){\n        if(!res.ok) throw new Error(res.statusText);\n\n        return res;\n    }\n    get(url) {\n        \n        return fetch(url)\n                .then(res => this._handleError(res))\n                .then(res => \n                         res.json()\n                )\n    }\n    \n    post(url, dado) {\n\n\n            return new Promise((resolve, reject) => {\n\n                let xhr = new XMLHttpRequest();\n                xhr.open(\"POST\", url, true);\n                xhr.setRequestHeader(\"Content-type\", \"application/json\");\n                xhr.onreadystatechange = () => {\n\n                    if (xhr.readyState == 4) {\n\n                        if (xhr.status == 200) {\n\n                            resolve(JSON.parse(xhr.responseText));\n                        } else {\n\n                            reject(xhr.responseText);\n                        }\n                    }\n                };\n                xhr.send(JSON.stringify(dado)); // usando JSON.stringifly para converter objeto em uma string no formato JSON.\n            });\n\n        }\n}"]}